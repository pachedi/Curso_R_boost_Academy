library(tidyverse)
library(openxlsx)
library(ggplot2)
library(lubridate)
library(plotly)
options(scipen=999) # para quitar la notación científica
# Fuente: https://datos.transporte.gob.ar/dataset?tags=SUBE
base_sube <- read.csv("https://raw.githubusercontent.com/pachedi/INTRO_R_CS/main/dat-ab-usuarios-2020.csv",sep=';', encoding = 'UTF-8')
base_amba <- base_sube %>%
filter(AMBA == 'SI')
head(base_amba)
filtro_totales <- base_amba %>%
filter(TIPO_TRANSPORTE == 'TOTAL')
filtros_genero <- filtro_totales %>%
group_by(DIA_TRANSPORTE,GENERO) %>%
summarise(Cantidad_total = sum(CANT_TRJ))
#filtros_genero_2 <- filtros_genero  %>%
#filter(GENERO == 'M' | GENERO == 'F')
#filter(! GENERO == '')
filtros_genero$GENERO[filtros_genero$GENERO == ''] <- 'Sin_registro'
filtros_genero <- filtros_genero %>%
mutate(DIA_TRANSPORTE = ymd(DIA_TRANSPORTE))
class(filtros_genero$DIA_TRANSPORTE)
Total_agrupado <- filtro_totales %>%
group_by(DIA_TRANSPORTE) %>%
summarise(Cantidad = sum(CANT_TRJ))
ggplot(data = filtros_genero, aes(x = DIA_TRANSPORTE, y = Cantidad_total))+
geom_line()
View(filtros_genero)
382679 +512083 +303238
741294 +878045+467362
1501861+1910293+1026192
